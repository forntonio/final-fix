exports.id=608,exports.ids=[608],exports.modules={4768:(a,b,c)=>{"use strict";c.d(b,{A:()=>m});var d=c(21124),e=c(89658),f=c(96400),g=c(21444),h=c(31240),i=c(38301),j=c(95928);let k=["min-w-cards-1","min-w-cards-2","min-w-cards-3","min-w-cards-4","min-w-cards-5","min-w-cards-6","min-w-cards-7","min-w-cards-8","min-w-cards-9","min-w-cards-10","min-w-cards-11","min-w-cards-12","min-w-cards-13","min-w-cards-14"],l={11:"-mr-[78px]",12:"-mr-[84px]",13:"-mr-[88px]",14:"-mr-[93px]"};function m({cards:a,actions:b,maxCardLength:c=1,onCloseCard:m}){let[n,o]=(0,i.useState)(null),p=(0,i.useRef)(null),q=c>1?k[c-1]:"";return(0,d.jsx)("div",{ref:p,className:`flex min-h-card ${q}`,onMouseLeave:()=>o(null),onTouchMove:({touches:b})=>{if(p.current){let c=b[0],d=p.current,e=d.getBoundingClientRect(),f=c.clientX-e.left,g=c.clientY-e.top,h=a.findIndex((a,b)=>{let c=d.children[b].getBoundingClientRect(),h=c.left-e.left,i=c.top-e.top;return f>=h&&f<=h+c.width&&g>=i&&g<=i+c.height});-1!==h&&o(h)}},children:(0,d.jsx)(e.F,{features:f.l,children:(0,d.jsx)(g.N,{mode:"popLayout",children:a.map((e,f)=>(0,d.jsx)(h.Uu,{onMouseEnter:()=>o(f),onTouchStart:()=>o(f),onFocus:()=>o(f),className:c<11?"-mr-card-1/2":l[c],animate:{scale:n===f?1.2:1,zIndex:null!==n?20-Math.abs(n-f):20-Math.abs(a.length-1-f)},children:(0,d.jsx)(j.i,{card:e,onCloseCard:m&&f===n?()=>m(e):void 0,actions:b(e)})},e.name))})})})}},10566:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(21124);function e({title:a,actions:b,children:c}){return(0,d.jsxs)("div",{className:"flex flex-col-reverse border-solid border-l-2 rounded-lg border-primary",children:[(0,d.jsx)("div",{className:`p-2 border-r-2 border-b-2 border-t-2 border-primary ${!b?"rounded-tr-lg":""} ${!a?"rounded-tl-lg":""} rounded-b-lg bg-slate-900 shadow-md shadow-primary`,children:c}),(0,d.jsxs)("div",{className:"flex justify-between items-end gap-2",children:[a&&(0,d.jsx)("h2",{className:"text-lg px-2 border-t-2 border-r-2 rounded-t-lg bg-slate-900 border-primary -mb-[2px] pb-[2px]",children:a}),b&&(0,d.jsx)("div",{className:"flex gap-1",children:b.map((a,b)=>(0,d.jsx)("div",{className:"text-lg px-2 border-t-2 border-l-2 border-r-2 rounded-t-lg bg-slate-900 border-primary -mb-[2px] pb-[2px]",children:a},b))})]})]})}},12254:(a,b,c)=>{"use strict";function d(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var d;let e=a=>null===a?null:JSON.parse(a,null==b?void 0:b.reviver),f=null!=(d=c.getItem(a))?d:null;return f instanceof Promise?f.then(e):e(f)},setItem:(a,d)=>c.setItem(a,JSON.stringify(d,null==b?void 0:b.replacer)),removeItem:a=>c.removeItem(a)}}c.d(b,{ue:()=>v,c6:()=>u,xt:()=>w});let e=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>e(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>e(b)(a)}}};var f=c(50329);async function g(a){let b=f.xm.map(({name:a})=>a);await Promise.all(b.map(async b=>{let{availableCards:c,...d}=await n(a)(b)??v,e=f.xm.find(({name:a})=>a===b);!(c.length>0)&&e&&await o(a)(b,JSON.stringify({state:{availableCards:e.cards.map(u),...d}}))}))}let h=["lost","discarded","inHand","selected","activeTop","activeBottom"];function i({status:a,...b}){return{status:function(a){let b=parseInt(a,10);return isNaN(b)?a:h[b]}(a),...b}}async function j(a){let b=f.xm.map(({name:a})=>a);await Promise.all(b.map(async b=>{let{availableCards:c,cards:d,states:e,...f}=await n(a)(b)??v;await o(a)(b,JSON.stringify({state:{availableCards:c.map(i),cards:d.map(i),states:e.map(a=>a.map(i)),...f}}))}))}let k="fh-cards-store",l=function(){let a;return{get:async function(){return a||new Promise(a=>{let b=indexedDB.open(k,11);b.onsuccess=()=>{a(b.result)},b.onupgradeneeded=async b=>{let{target:c}=b,d=c.result;d.objectStoreNames.contains(k)||d.createObjectStore(k);let{transaction:e}=c;e&&(await g(e),await j(e)),a(d)}}).then(b=>(a=b,b))}}}();async function m(){return(await l.get()).transaction(k,"readwrite")}function n(a){return b=>{let c=a.objectStore(k).get(b);return new Promise(a=>{c.onsuccess=()=>{if(!c.result)return a(void 0);let{state:b}=JSON.parse(c.result);a(b)}})}}function o(a){return(b,c)=>(a.objectStore(k).put(c,b),new Promise(b=>{a.oncomplete=()=>{b()}}))}function p(){let a=(0,f.d0)(document.location.pathname.split("/")[1]);return f.xm.find(({name:b})=>b===a)}let q={getItem:async()=>{let a=p();if(!a)return null;let b=await m(),c=await n(b)(a.name);if(!c)return null;let d=function(a){return({name:b,status:c,tokenPosition:d,enhancements:e,isSelectedMode:f})=>{let g=a.cards.find(a=>a.name===b);if(!g)throw Error(`Card ${b} not found in ${a.name}`);return{...g,status:c,tokenPosition:d,enhancements:e,isSelectedMode:f}}}(a),{cards:e,availableCards:f,states:g,...h}=c;return JSON.stringify({state:{...h,cards:e.map(d),availableCards:(0===f.length?a.cards:f).map(d),states:g.map(a=>a.map(d))}})},setItem:async(a,b)=>{let c=p();if(!c)return;let d=await m();await o(d)(c.name,b)},removeItem:async()=>{let a=p();if(!a)return;let b=await m();await (function(a){return b=>(a.objectStore(k).delete(b),new Promise(b=>{a.oncomplete=()=>{b()}}))})(b)(a.name)}};var r=c(38301);let s=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},t=a=>{let b=(a=>a?s(a):s)(a),c=a=>(function(a,b=a=>a){let c=r.useSyncExternalStore(a.subscribe,r.useCallback(()=>b(a.getState()),[a,b]),r.useCallback(()=>b(a.getInitialState()),[a,b]));return r.useDebugValue(c),c})(b,a);return Object.assign(c,b),c};function u({name:a,status:b,tokenPosition:c,enhancements:d,isSelectedMode:e}){return{name:a,status:b,tokenPosition:c,enhancements:d,isSelectedMode:e}}let v={level:1,cards:[],availableCards:[],states:[[]],currentStateIndex:0,selectedActions:[void 0,void 0]},w=t(((a,b)=>(c,f,g)=>{let h,i={storage:d(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},j=!1,k=new Set,l=new Set,m=i.storage;if(!m)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),c(...a)},f,g);let n=()=>{let a=i.partialize({...f()});return m.setItem(i.name,{state:a,version:i.version})},o=g.setState;g.setState=(a,b)=>(o(a,b),n());let p=a((...a)=>(c(...a),n()),f,g);g.getInitialState=()=>p;let q=()=>{var a,b;if(!m)return;j=!1,k.forEach(a=>{var b;return a(null!=(b=f())?b:p)});let d=(null==(b=i.onRehydrateStorage)?void 0:b.call(i,null!=(a=f())?a:p))||void 0;return e(m.getItem.bind(m))(i.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===i.version)return[!1,a.state];else{if(i.migrate){let b=i.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(a=>{var b;let[d,e]=a;if(c(h=i.merge(e,null!=(b=f())?b:p),!0),d)return n()}).then(()=>{null==d||d(h,void 0),h=f(),j=!0,l.forEach(a=>a(h))}).catch(a=>{null==d||d(void 0,a)})};return g.persist={setOptions:a=>{i={...i,...a},a.storage&&(m=a.storage)},clearStorage:()=>{null==m||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>q(),hasHydrated:()=>j,onHydrate:a=>(k.add(a),()=>{k.delete(a)}),onFinishHydration:a=>(l.add(a),()=>{l.delete(a)})},i.skipHydration||q(),h||p})(a=>({...v,setLevel:b=>a({level:b}),validateCardSelection:()=>a(({cards:a})=>({states:[a],currentStateIndex:0})),enhanceCard:b=>a(({cards:a,availableCards:c})=>({cards:a.with(a.findIndex(({name:a})=>a===b.name),b),availableCards:c.with(c.findIndex(({name:a})=>a===b.name),b)})),selectCards:b=>a({cards:b,states:[b],currentStateIndex:0}),setSelectedActions:b=>a({selectedActions:b}),updateStates:b=>a({states:b,currentStateIndex:b.length-1}),setStateIndex:b=>a({currentStateIndex:b}),reset:async()=>{let b=await q.getItem("");if(!b)return a(v);let{state:c}=JSON.parse(b);a(c)}}),{name:"fh-ability-cards",storage:d(()=>q),partialize:a=>({level:a.level,cards:a.cards.map(u),availableCards:a.availableCards.map(u),states:a.states.map(a=>a.map(u)),currentStateIndex:a.currentStateIndex})}))},12305:(a,b,c)=>{"use strict";c.d(b,{k:()=>f});var d=c(38301);let e=(a,b)=>{let c=a instanceof Map?a:new Map(a.entries()),d=b instanceof Map?b:new Map(b.entries());if(c.size!==d.size)return!1;for(let[a,b]of c)if(!d.has(a)||!Object.is(b,d.get(a)))return!1;return!0};function f(a){let b=d.useRef(void 0);return c=>{let d=a(c);return!function(a,b){if(Object.is(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b||Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;if(Symbol.iterator in a&&Symbol.iterator in b){if("entries"in a&&"entries"in b)return e(a,b);let c=a[Symbol.iterator](),d=b[Symbol.iterator](),f=c.next(),g=d.next();for(;!f.done&&!g.done;){if(!Object.is(f.value,g.value))return!1;f=c.next(),g=d.next()}return!!f.done&&!!g.done}return e({entries:()=>Object.entries(a)},{entries:()=>Object.entries(b)})}(b.current,d)?b.current=d:b.current}}},14458:(a,b,c)=>{Promise.resolve().then(c.bind(c,30136)),Promise.resolve().then(c.bind(c,38079))},17431:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(21124),e=c(24515);function f({form:a}){let b=`/geminate/icons/fh-geminate-${a}-color-icon.webp`;return(0,d.jsx)(e.default,{src:b,alt:`form-${a}`,width:33,height:60})}},20693:(a,b,c)=>{"use strict";c.d(b,{default:()=>n});var d=c(21124),e=c(38301),f=c(33050),g=c(50329),h=c(89658),i=c(96400),j=c(31240),k=c(24515);function l({className:a}){let[b,c]=(0,e.useState)(!0),f=(0,g.$l)(a),l=`/${f}/mats/fh-${f}.webp`,m=`/${f}/mats/fh-${f}-back.webp`;return(0,d.jsx)("button",{autoFocus:!0,onClick:()=>c(!b),className:"w-mat h-mat perspective-distant transform-3d",children:(0,d.jsxs)(h.F,{features:i.l,children:[(0,d.jsx)(j.Uu,{transition:{duration:.7},animate:{rotateY:180*!b},className:"absolute top-0 border-solid border-2 border-primary backface-hidden",children:(0,d.jsx)(k.default,{src:l,alt:`${f} mat`,width:600,height:392})}),(0,d.jsx)(j.Uu,{transition:{duration:.7},initial:{rotateY:180},animate:{rotateY:b?180:360},className:"absolute top-0 border-solid border-2 border-primary backface-hidden",children:(0,d.jsx)(k.default,{src:m,alt:`${f} mat back`,width:600,height:392})})]})})}var m=c(68009);function n(){let[a,b]=(0,e.useState)(!1),c=(0,e.use)(m.M);return(0,d.jsxs)(d.Fragment,{children:[a&&(0,d.jsx)(f.A,{onCancel:()=>b(!1),children:(0,d.jsx)(l,{className:c.name})}),(0,d.jsx)("button",{"aria-label":"Display class mat",className:"rounded-full border-solid border-2 border-white px-2 bg-primary",onClick:()=>b(!0),children:"?"})]})}},27220:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,dynamicParams:()=>h,generateMetadata:()=>j,generateStaticParams:()=>i});var d=c(75338),e=c(38079),f=c(36625),g=c(30136);let h=!1;function i(){return f.xm.map(({name:a})=>({selectedClass:(0,f.$l)(a)}))}async function j({params:a},b){let{selectedClass:c}=await a,d=(0,f.d0)(c);return{title:`${d} - Frosthaven Cards`,description:`Manage your Frosthaven ${d} Cards`,keywords:[...(await b).keywords??[],d]}}async function k({params:a,children:b}){let{selectedClass:c}=await a,h=(0,f.d0)(c);return(0,d.jsx)("div",{"data-theme":c,children:(0,d.jsxs)(e.default,{fhClassName:h,children:[b,(0,d.jsx)("div",{className:"absolute left-0 top-0 p-4 flex flex-col items-end gap-2",children:(0,d.jsx)(g.default,{})})]})})}},30136:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/final-fix/src/app/[selectedClass]/DisplayClassMat.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/final-fix/src/app/[selectedClass]/DisplayClassMat.tsx","default")},38079:(a,b,c)=>{"use strict";c.d(b,{default:()=>e});var d=c(97954);(0,d.registerClientReference)(function(){throw Error("Attempted to call ClassContext() from the server but ClassContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/final-fix/src/context/ClassContext.tsx","ClassContext");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/final-fix/src/context/ClassContext.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/final-fix/src/context/ClassContext.tsx","default")},54626:(a,b,c)=>{Promise.resolve().then(c.bind(c,20693)),Promise.resolve().then(c.bind(c,68009))},68009:(a,b,c)=>{"use strict";c.d(b,{M:()=>h,default:()=>i});var d=c(21124),e=c(90438),f=c(50329),g=c(12254);let h=(0,c(38301).createContext)(e.E);function i({children:a,fhClassName:b}){(0,g.xt)(a=>a.reset);let c=f.xm.find(({name:a})=>a===b);if(!c)throw Error(`Unknown class ${b}`);return(0,d.jsx)(h,{value:c,children:a})}},71560:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(75338);function e({title:a,actions:b,children:c}){return(0,d.jsxs)("div",{className:"flex flex-col-reverse border-solid border-l-2 rounded-lg border-primary",children:[(0,d.jsx)("div",{className:`p-2 border-r-2 border-b-2 border-t-2 border-primary ${!b?"rounded-tr-lg":""} ${!a?"rounded-tl-lg":""} rounded-b-lg bg-slate-900 shadow-md shadow-primary`,children:c}),(0,d.jsxs)("div",{className:"flex justify-between items-end gap-2",children:[a&&(0,d.jsx)("h2",{className:"text-lg px-2 border-t-2 border-r-2 rounded-t-lg bg-slate-900 border-primary -mb-[2px] pb-[2px]",children:a}),b&&(0,d.jsx)("div",{className:"flex gap-1",children:b.map((a,b)=>(0,d.jsx)("div",{className:"text-lg px-2 border-t-2 border-l-2 border-r-2 rounded-t-lg bg-slate-900 border-primary -mb-[2px] pb-[2px]",children:a},b))})]})]})}},79565:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(75338);function e({title:a}){return(0,d.jsx)("h1",{className:"text-2xl font-bold text-center text-black hidden",children:a})}},98554:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(21124),e=c(24515);function f({fhClass:a}){let{name:b,path:c,iconSize:f}=a;return(0,d.jsx)(e.default,{className:"max-w-icon max-h-icon",src:c,alt:b,...f})}}};